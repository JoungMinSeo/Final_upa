<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="calMapper">
   
   <resultMap type="CalendarTest" id="cal_rm">
      <id property="calNo" column="CAL_NO"/>
      
      <result property="title" column="TITLE"/>
      <result property="start" column="START_DATE"/>
      <result property="end" column="END_DATE"/>
      <result property="bColor" column="B_COLOR"/>
   </resultMap>
   
   <select id="selectCalTest" parameterType="string" resultMap="cal_rm">
      SELECT * FROM CAL_TEST
      WHERE TO_DATE(SUBSTR(START_DATE, 0, 7),'RRRR-MM') 
      BETWEEN ADD_MONTHS(to_date(#{startDate}, 'RRRR-MM'), -1) 
      AND LAST_DAY(ADD_MONTHS(to_date(#{startDate}, 'RRRR-MM'), 1)) 
   </select>
   

</mapper>